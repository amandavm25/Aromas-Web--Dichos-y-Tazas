<div class="modal fade admin-modal" id="modalDetallesEmpleado">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">

            <!-- Header -->
            <div class="modal-header">
                <h5 class="modal-title" id="modalDetallesEmpleadoLabel">
                    <div class="modal-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    Detalles del Empleado
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <!-- Body -->
            <div class="modal-body">

                <!-- Cabecera del Empleado -->
                <div class="modal-entity-header">
                    <div>
                        <h5 id="detalles-nombre-empleado" class="modal-entity-name"></h5>
                        <p id="detalles-cargo-empleado" class="modal-entity-sub" style="color:var(--gold-bright);font-weight:600;">
                            <i class="fas fa-briefcase"></i>
                            <span></span>
                        </p>
                        <p id="detalles-empleado-antiguo" class="modal-entity-sub" style="color:var(--gold);font-weight:600;display:none;align-items:center;gap:0.5rem;">
                            <i class="fas fa-award"></i>
                            <span>Empleado Antiguo</span>
                        </p>
                    </div>
                    <div class="modal-entity-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                </div>

                <!-- Grid de datos -->
                <div class="modal-data-grid-2">

                    <!-- Columna Izquierda -->
                    <div style="display:grid;gap:1.5rem;">

                        <div class="modal-data-cell">
                            <label class="modal-data-label">
                                <i class="fas fa-id-card"></i> Identificación
                            </label>
                            <p id="detalles-identificacion-empleado" class="modal-data-value"></p>
                        </div>

                        <div class="modal-data-cell">
                            <label class="modal-data-label">
                                <i class="fas fa-envelope"></i> Correo Electrónico
                            </label>
                            <p id="detalles-correo-empleado" class="modal-data-value"></p>
                        </div>

                        <div class="modal-data-cell">
                            <label class="modal-data-label">
                                <i class="fas fa-phone"></i> Teléfono
                            </label>
                            <p id="detalles-telefono-empleado" class="modal-data-value"></p>
                        </div>

                    </div>

                    <!-- Columna Derecha -->
                    <div style="display:grid;gap:1.5rem;">

                        <div class="modal-data-cell">
                            <label class="modal-data-label">
                                <i class="fas fa-user-tag"></i> Rol
                            </label>
                            <span id="detalles-rol-empleado"
                                  class="badge"
                                  style="font-size:1rem;padding:0.6rem 1.5rem;border-radius:50px;display:inline-block;font-weight:600;"></span>
                        </div>

                        <div class="modal-data-cell">
                            <label class="modal-data-label">
                                <i class="fas fa-calendar-plus"></i> Fecha de Contratación
                            </label>
                            <p id="detalles-fechacontratacion-empleado" class="modal-data-value"></p>
                        </div>

                        <div class="modal-data-cell">
                            <label class="modal-data-label">
                                <i class="fas fa-briefcase"></i> Antigüedad
                            </label>
                            <p id="detalles-antiguedad-empleado" class="modal-data-value"></p>
                        </div>

                        <div class="modal-data-cell">
                            <label class="modal-data-label">
                                <i class="fas fa-toggle-on"></i> Estado
                            </label>
                            <span id="detalles-estado-badge-empleado"
                                  class="badge"
                                  style="font-size:1rem;padding:0.6rem 1.5rem;border-radius:50px;display:inline-flex;align-items:center;gap:0.5rem;font-weight:600;"></span>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <span><i class="fas fa-times"></i> Cerrar</span>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('.btn-detalles').forEach(boton => {
            boton.addEventListener('click', function () {
                const nombre          = this.getAttribute('data-nombre');
                const apellidos       = this.getAttribute('data-apellidos');
                const identificacion  = this.getAttribute('data-identificacion');
                const correo          = this.getAttribute('data-correo');
                const telefono        = this.getAttribute('data-telefono');
                const cargo           = this.getAttribute('data-cargo');
                const rol             = this.getAttribute('data-rol');
                const fechaContratacion = this.getAttribute('data-fechacontratacion');
                const antiguedad      = this.getAttribute('data-antiguedad');
                const estado          = this.getAttribute('data-estado');
                const esAntiguo       = this.getAttribute('data-esantiguo') === 'True';

                const set = (id, val) => { const el = document.getElementById(id); if (el) el.textContent = val; };

                set('detalles-nombre-empleado',           nombre + ' ' + apellidos);
                set('detalles-identificacion-empleado',   identificacion);
                set('detalles-correo-empleado',           correo);
                set('detalles-telefono-empleado',         telefono);
                set('detalles-fechacontratacion-empleado', fechaContratacion);
                set('detalles-antiguedad-empleado',       antiguedad);

                // Cargo (está dentro de un <span>)
                const cargoEl = document.querySelector('#detalles-cargo-empleado span');
                if (cargoEl) cargoEl.textContent = cargo;

                // Badge empleado antiguo
                const antiguoEl = document.getElementById('detalles-empleado-antiguo');
                if (antiguoEl) antiguoEl.style.display = esAntiguo ? 'flex' : 'none';

                // Badge de rol
                const rolBadge = document.getElementById('detalles-rol-empleado');
                if (rolBadge) {
                    rolBadge.textContent = rol;
                    rolBadge.style.background = rol === 'Administrador' ? 'var(--gold)' : 'var(--olive-green)';
                    rolBadge.style.color = 'white';
                }

                // Badge de estado
                const estadoBadge = document.getElementById('detalles-estado-badge-empleado');
                if (estadoBadge) {
                    const esActivo = estado === 'Activo';
                    estadoBadge.innerHTML = esActivo
                        ? '<i class="fas fa-check-circle"></i> Activo'
                        : '<i class="fas fa-times-circle"></i> Inactivo';
                    estadoBadge.style.background = esActivo ? 'var(--green)' : 'var(--red)';
                    estadoBadge.style.color = 'white';
                }
            });
        });
    });
</script>